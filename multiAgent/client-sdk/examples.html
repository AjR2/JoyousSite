<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Multi-Agent Client SDK Examples</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 1200px; margin: 0 auto; padding: 20px; }
        .example { background: #f5f5f5; padding: 20px; margin: 20px 0; border-radius: 8px; }
        .result { background: #e8f5e8; padding: 15px; margin: 10px 0; border-radius: 5px; border-left: 4px solid #4caf50; }
        .error { background: #ffeaea; padding: 15px; margin: 10px 0; border-radius: 5px; border-left: 4px solid #f44336; }
        button { background: #007acc; color: white; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; margin: 5px; }
        button:hover { background: #005a9e; }
        button:disabled { background: #ccc; cursor: not-allowed; }
        textarea { width: 100%; height: 100px; margin: 10px 0; padding: 10px; border: 1px solid #ddd; border-radius: 5px; }
        input { width: 100%; padding: 8px; margin: 5px 0; border: 1px solid #ddd; border-radius: 3px; }
        .loading { color: #666; font-style: italic; }
        pre { background: #f0f0f0; padding: 10px; border-radius: 5px; overflow-x: auto; }
    </style>
</head>
<body>
    <h1>ü§ñ Multi-Agent Client SDK Examples</h1>
    <p>Interactive examples demonstrating the Multi-Agent System Client SDK</p>

    <!-- Basic Ask Example -->
    <div class="example">
        <h2>1. Basic Ask Query</h2>
        <p>Submit a query to a specific agent type</p>
        
        <input type="text" id="askPrompt" placeholder="Enter your question..." value="Explain machine learning">
        <select id="askTaskType">
            <option value="explanation">Explanation</option>
            <option value="fact_check">Fact Check</option>
            <option value="code_generation">Code Generation</option>
            <option value="task_breakdown">Task Breakdown</option>
        </select>
        <input type="text" id="askUserId" placeholder="User ID" value="demo-user">
        
        <button onclick="runAskExample()" id="askBtn">Ask Agent</button>
        <div id="askResult"></div>
    </div>

    <!-- Collaboration Example -->
    <div class="example">
        <h2>2. Multi-Agent Collaboration</h2>
        <p>Get comprehensive analysis from multiple agents</p>
        
        <textarea id="collaboratePrompt" placeholder="Enter a complex question for multi-agent analysis...">Analyze the pros and cons of remote work and provide recommendations for companies considering this transition.</textarea>
        <input type="text" id="collaborateUserId" placeholder="User ID" value="demo-user">
        
        <button onclick="runCollaborateExample()" id="collaborateBtn">Collaborate</button>
        <div id="collaborateResult"></div>
    </div>

    <!-- Healthcare Example -->
    <div class="example">
        <h2>3. Healthcare Workflow</h2>
        <p>Healthcare-specific agent workflow</p>
        
        <input type="text" id="healthcareUserId" placeholder="Patient ID" value="patient-123">
        <textarea id="healthcareMessage" placeholder="Describe your symptoms or concerns...">I've been experiencing headaches and fatigue for the past week.</textarea>
        
        <h4>Patient Information (Optional)</h4>
        <input type="text" id="patientName" placeholder="Patient Name" value="John Doe">
        <input type="number" id="patientAge" placeholder="Age" value="35">
        
        <button onclick="runHealthcareExample()" id="healthcareBtn">Start Healthcare Workflow</button>
        <div id="healthcareResult"></div>
    </div>

    <!-- Batch Processing Example -->
    <div class="example">
        <h2>4. Batch Processing</h2>
        <p>Process multiple queries simultaneously</p>
        
        <button onclick="runBatchExample()" id="batchBtn">Run Batch Queries</button>
        <div id="batchResult"></div>
    </div>

    <!-- Configuration -->
    <div class="example">
        <h2>‚öôÔ∏è Configuration</h2>
        <input type="text" id="apiBaseUrl" placeholder="API Base URL" value="">
        <button onclick="updateConfig()">Update Configuration</button>
        <p><small>Leave empty to use relative URLs (same domain)</small></p>
    </div>

    <script src="multiagent-client.js"></script>
    <script>
        // Initialize client
        let client = new MultiAgentClient('', {
            timeout: 60000,
            retries: 2
        });

        function updateConfig() {
            const baseUrl = document.getElementById('apiBaseUrl').value;
            client = new MultiAgentClient(baseUrl, {
                timeout: 60000,
                retries: 2
            });
            showResult('Configuration updated!', 'askResult');
        }

        function showResult(content, elementId) {
            const element = document.getElementById(elementId);
            if (typeof content === 'object') {
                element.innerHTML = `<div class="result"><pre>${JSON.stringify(content, null, 2)}</pre></div>`;
            } else {
                element.innerHTML = `<div class="result">${content}</div>`;
            }
        }

        function showError(error, elementId) {
            const element = document.getElementById(elementId);
            element.innerHTML = `<div class="error">Error: ${error}</div>`;
        }

        function showLoading(elementId) {
            const element = document.getElementById(elementId);
            element.innerHTML = `<div class="loading">Loading...</div>`;
        }

        async function runAskExample() {
            const prompt = document.getElementById('askPrompt').value;
            const taskType = document.getElementById('askTaskType').value;
            const userId = document.getElementById('askUserId').value;
            const btn = document.getElementById('askBtn');

            if (!prompt) {
                showError('Please enter a prompt', 'askResult');
                return;
            }

            btn.disabled = true;
            showLoading('askResult');

            try {
                const result = await client.ask(prompt, taskType, userId);
                showResult(result, 'askResult');
            } catch (error) {
                showError(error.message, 'askResult');
            } finally {
                btn.disabled = false;
            }
        }

        async function runCollaborateExample() {
            const prompt = document.getElementById('collaboratePrompt').value;
            const userId = document.getElementById('collaborateUserId').value;
            const btn = document.getElementById('collaborateBtn');

            if (!prompt) {
                showError('Please enter a prompt', 'collaborateResult');
                return;
            }

            btn.disabled = true;
            showLoading('collaborateResult');

            try {
                const result = await client.collaborate(prompt, userId);
                showResult(result, 'collaborateResult');
            } catch (error) {
                showError(error.message, 'collaborateResult');
            } finally {
                btn.disabled = false;
            }
        }

        async function runHealthcareExample() {
            const userId = document.getElementById('healthcareUserId').value;
            const userMessage = document.getElementById('healthcareMessage').value;
            const patientName = document.getElementById('patientName').value;
            const patientAge = document.getElementById('patientAge').value;
            const btn = document.getElementById('healthcareBtn');

            if (!userId || !userMessage) {
                showError('Please enter user ID and message', 'healthcareResult');
                return;
            }

            btn.disabled = true;
            showLoading('healthcareResult');

            try {
                const options = {
                    patientInfo: {
                        name: patientName,
                        age: parseInt(patientAge) || undefined,
                        concerns: userMessage
                    }
                };

                const result = await client.healthcare(userId, userMessage, options);
                showResult(result, 'healthcareResult');
            } catch (error) {
                showError(error.message, 'healthcareResult');
            } finally {
                btn.disabled = false;
            }
        }

        async function runBatchExample() {
            const btn = document.getElementById('batchBtn');
            btn.disabled = true;
            showLoading('batchResult');

            try {
                const queries = [
                    {
                        type: 'ask',
                        prompt: 'What is artificial intelligence?',
                        taskType: 'explanation',
                        userId: 'batch-user-1'
                    },
                    {
                        type: 'ask',
                        prompt: 'Is AI dangerous?',
                        taskType: 'fact_check',
                        userId: 'batch-user-2'
                    },
                    {
                        type: 'collaborate',
                        prompt: 'Compare Python and JavaScript for web development',
                        userId: 'batch-user-3'
                    }
                ];

                const results = await client.batch(queries);
                
                const processedResults = results.map((result, index) => ({
                    query: queries[index],
                    status: result.status,
                    result: result.status === 'fulfilled' ? result.value : result.reason.message
                }));

                showResult(processedResults, 'batchResult');
            } catch (error) {
                showError(error.message, 'batchResult');
            } finally {
                btn.disabled = false;
            }
        }

        // Add some helpful information
        console.log('Multi-Agent Client SDK loaded!');
        console.log('Available methods:', Object.getOwnPropertyNames(MultiAgentClient.prototype));
    </script>
</body>
</html>
